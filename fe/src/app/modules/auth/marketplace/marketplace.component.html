<router-outlet></router-outlet>
<ng-container *ngIf="!hasChildRoute">
    <div class="relative flex flex-col items-center w-full h-full gap-8 p-8 overflow-y-auto">
        
        <span class="text-4xl font-semibold text-[#3941AB] self-start">Marketplace</span>
        <div class="flex items-center justify-end w-full">
            <div class="relative inline-block group">
                <button disabled type="button"
                        class="flex items-center justify-center w-auto h-auto gap-1 bg-[#3941AB] px-8 py-3 rounded-md disabled:opacity-50 disabled:cursor-not-allowed">
                    <mat-icon class="text-base text-white">add</mat-icon>
                    <span class="text-lg font-semibold text-white">
                    {{"marketplace.create_new_listing" | transloco}}
                    </span>
                </button>

                <!-- Tooltip -->
                <span class="absolute px-2 py-1 mb-2 text-xs text-white transition-opacity transform -translate-x-1/2 bg-gray-800 rounded opacity-0 pointer-events-none bottom-full left-1/2 group-hover:opacity-100 whitespace-nowrap">
                    Đang phát triển
                </span>
                </div>
        </div>
        <div class="flex items-center justify-between w-full">
            <span class="text-2xl font-semibold">{{"marketplace.today_pick" | transloco}}</span>
            <div class="flex items-center justify-center gap-2">
                <mat-icon class='text-[#2E90FA]'> location_on</mat-icon>
                <span class="text-xl text-[#2E90FA]">Hà Nội</span>
            </div>
        </div>
        
        <div class="grid w-auto grid-cols-5 gap-6 max-sm:grid-cols-2 max-md:grid-cols-3"
        
        >
            <ng-container *ngFor="let item of listProduct">
                <button (click)="openPopupDetail(item)" 
                        class="relative flex flex-col h-full p-4 transition bg-white shadow-md rounded-2xl hover:shadow-lg">

                <!-- Tag giảm giá -->
                <ng-container *ngIf="item.discount">
                    <div class="bg-[#EE0033] absolute left-4 top-0 text-white font-bold flex justify-center items-center 
                                    px-3 py-1 w-[50px] h-[30px]"
                        style="clip-path: polygon(0 0, 100% 0, 100% 80%, 50% 100%, 0 80%);">
                    <span class="text-sm">-{{item.discount * 100}}%</span>
                    </div>
                </ng-container>

                <!-- Ảnh sản phẩm -->
                <div class="flex items-center justify-center w-auto h-48 bg-no-repeat bg-contain rounded-lg shadow-md aspect-auto"
                    >
                    <img [src]="item.img" class="object-contain max-w-full max-h-full"/>
                </div>

                <!-- Nội dung -->
                <div class="flex flex-col gap-2 mt-3 text-left">
                    <ng-container *ngIf="item.categoryInfor.highlight">
                    <span class="px-3 py-1 bg-[#FA3939] rounded-full text-white text-xs w-fit">
                        {{"marketplace.highlighted_product" | transloco}}
                    </span>
                    </ng-container>

                    <span class="text-base font-medium truncate">{{item.name}}</span>

                    <div class="flex flex-col">
                    <span class="text-lg font-bold text-[#EE0033] font-lexend_deca">
                        {{item.realPrice}} <span class="text-[10px]">đ</span>
                    </span>
                    <span class="text-sm text-[#707070] line-through">
                        {{item.price}} <span class="text-[10px]">đ</span>
                    </span>
                    </div>
                </div>
                </button>
            </ng-container>
            <!-- <button (click)="openPopupDetail('Iphone16-1')" class="w-full h-[380px]">
                <div class='flex flex-col gap-2'>
                    <div class="w-full h-[300px] bg-center bg-cover border border-black"
                        [style.background-image]="'url(\'assets/icons/marketplace/elegant-smartphone-composition.jpg\')'"
                    ></div>
                    <div class="w-full pb-2 overflow-hidden">
                        <span class="block w-full text-[1.25rem] font-semibold truncate text-left">Iphone 16</span>
                        <span class="block w-full text-[1.75rem] font-semibold truncate text-left">1.000.000 VNĐ</span>                
                    </div>
                </div>
            </button>
            <button (click)="openPopupDetail('Iphone16-2')" class="w-full h-[380px]">
                <div class='flex flex-col gap-2'>
                    <div class="w-full h-[300px] bg-center bg-cover border border-black"
                        [style.background-image]="'url(\'assets/icons/marketplace/elegant-smartphone-composition.jpg\')'"
                    ></div>
                    <div class="w-full pb-2 overflow-hidden">
                        <span class="block w-full text-[1.25rem] font-semibold truncate text-left">Iphone 16</span>
                        <span class="block w-full text-[1.75rem] font-semibold truncate text-left">1.000.000 VNĐ</span>                
                    </div>
                </div>
            </button>
            <button (click)="openPopupDetail('samsung-galaxy-s24-plus')" class="w-full h-[380px]">
                <div class='flex flex-col gap-2'>
                    <div class="w-full h-[300px] bg-center bg-cover border border-black"
                        [style.background-image]="'url(\'assets/icons/marketplace/samsung-1.jpg\')'"
                    ></div>
                    <div class="w-full pb-2 overflow-hidden">
                        <span class="block w-full text-[1.25rem] font-semibold truncate text-left">Samsung Galaxy S24 Plus 12GB 256GB</span>
                        <span class="block w-full text-[1.75rem] font-semibold truncate text-left">16.790.000 VNĐ</span>                
                    </div>
                </div>
            </button>
            <button (click)="openPopupDetail('xiaomi-1')" class="w-full h-[380px]">
                <div class='flex flex-col gap-2'>
                    <div class="w-full h-[300px] bg-center bg-cover border border-black"
                        [style.background-image]="'url(\'assets/icons/marketplace/xiaomi.jpg\')'"
                    ></div>
                    <div class="w-full pb-2 overflow-hidden">
                        <span class="block w-full text-[1.25rem] font-semibold truncate text-left">Xiaomi 14T Pro 12GB 512GB</span>
                        <span class="block w-full text-[1.75rem] font-semibold truncate text-left">14.890.000 VNĐ</span>                
                    </div>
                </div>
            </button>
            <button (click)="openPopupDetail('macbook')" class="w-full h-[380px]">
                <div class='flex flex-col gap-2'>
                    <div class="w-full h-[300px] bg-center bg-cover border border-black"
                        [style.background-image]="'url(\'assets/icons/marketplace/macbook.jpg\')'"
                    ></div>
                    <div class="w-full pb-2 overflow-hidden">
                        <span class="block w-full text-[1.25rem] font-semibold truncate text-left">MacBook Air M2 (hoặc Pro)</span>
                        <span class="block w-full text-[1.75rem] font-semibold truncate text-left">30.000.000 VNĐ</span>                
                    </div>
                </div>
            </button>
            <button (click)="openPopupDetail('oppo')" class="w-full h-[380px]">
                <div class='flex flex-col gap-2'>
                    <div class="w-full h-[300px] bg-center bg-cover border border-black"
                        [style.background-image]="'url(\'assets/icons/marketplace/oppo.jpg\')'"
                    ></div>
                    <div class="w-full pb-2 overflow-hidden">
                        <span class="block w-full text-[1.25rem] font-semibold truncate text-left">OPPO Reno14 5G 12GB 256GB</span>
                        <span class="block w-full text-[1.75rem] font-semibold truncate text-left">15.700.000 VNĐ</span>                
                    </div>
                </div>
            </button> -->
            
        </div>
    </div>
</ng-container>

