<div class="relative w-full max-w-3xl mt-6">
  
  <!-- Line background -->
  <div class="absolute top-[30%] left-0 w-full h-1 bg-gray-200 -translate-y-1/2 rounded-full"></div>

  <!-- Animated progress line -->
  <div
    class="absolute top-[30%] left-0 h-1 z-[2] bg-amber-700 rounded-full transition-all duration-700 ease-in-out"
    [style.width.%]="progressWidth">
  </div>

  <!-- Steps -->
  <div class="relative flex justify-between items-center z-[9]">
    <div
      *ngFor="let step of steps; let i = index"
      class="flex flex-col items-center w-1/3"
    >
      <div
        class="flex items-center justify-center w-8 h-8 font-bold transition-all duration-500 border-2 rounded-full"
        [ngClass]="{
          'bg-amber-700 border-amber-700 !text-white scale-110 shadow-md': i === stepIndex,
          'bg-amber-500 border-amber-500 text-white': i < stepIndex,
          'bg-white border-gray-300 text-gray-400': i > stepIndex
        }"
      >
        {{ i + 1 }}
      </div>
      <span class="mt-2 text-[10px] font-avenir font-extrabold"
      [ngClass]="{
          '  text-amber-700 scale-110': i === stepIndex,
          '  text-amber-700': i < stepIndex,
          '  text-gray-400': i > stepIndex
        }">{{ step }}</span>
    </div>
  </div>
</div>
